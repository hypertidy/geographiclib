---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# geographiclib

<!-- badges: start -->
[![R-CMD-check](https://github.com/hypertidy/geographiclib/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/hypertidy/geographiclib/actions/workflows/R-CMD-check.yaml)
<!-- badges: end -->

R interface to [GeographicLib](https://geographiclib.sourceforge.io/) for precise geodetic calculations on the WGS84 ellipsoid.

## Features

### Grid Reference Systems
* **GARS** - Global Area Reference System (military)
* **Geohash** - Geohash encoding/decoding with precision control
* **Georef** - World Geographic Reference System (aviation)
* **MGRS** - Military Grid Reference System encoding/decoding
* **OSGB** - Ordnance Survey National Grid (Great Britain)

### Coordinate Parsing & Formatting
* **DMS** - Degrees-minutes-seconds parsing and formatting
* **GeoCoords** - Universal coordinate parsing (MGRS, UTM, DMS, decimal)

### Map Projections
* **Albers Equal Area** - Equal-area conic projection
* **Azimuthal Equidistant** - Projection centered on any point
* **Cassini-Soldner** - Historical transverse cylindrical projection
* **Gnomonic** - Geodesics appear as straight lines
* **Lambert Conformal Conic** - Configurable LCC projection
* **Polar Stereographic** - Conformal polar projection with configurable scale
* **Transverse Mercator** - Custom TM projections with user-defined parameters
* **UTM/UPS** - Universal Transverse Mercator and Universal Polar Stereographic

### Geodesic Calculations
* **Geodesic direct/inverse** - Distance, bearing, paths on the ellipsoid (exact and fast)
* **Geodesic intersections** - Find where two geodesics cross
* **Nearest neighbor search** - Find closest points using geodesic distance
* **Polygon area** - Accurate area/perimeter on the ellipsoid
* **Rhumb lines** - Constant-bearing paths (loxodromes)

### Coordinate Transformations
* **Geocentric** - ECEF (Earth-Centered Earth-Fixed) coordinates
* **Local Cartesian** - East-North-Up (ENU) local coordinates

### Ellipsoid
* **Ellipsoid parameters** - WGS84 parameters, curvature, auxiliary latitudes

All functions are fully vectorized with rich metadata output.

## Installation

```r
remotes::install_github("hypertidy/geographiclib")
```

## Quick example

```{r example}
library(geographiclib)

# Coordinates to MGRS
pts <- cbind(lon = c(147.32, -74.01, 0.13),
             lat = c(-42.88, 40.71, 51.51))
(codes <- mgrs_fwd(pts))

# MGRS back to coordinates with full metadata
mgrs_rev(codes)

## arguments are vectorized
rev0 <- mgrs_rev(vcodes <- mgrs_fwd(rbind(pts, pts), precision = c(0L, 1L, 2L, 3L, 4L, 5L)))
cbind(mgrs = vcodes, rev0)
```

## Documentation

Function reference and vignettes are available at
<https://hypertidy.github.io/geographiclib/>

Articles:

* **[Getting Started](https://hypertidy.github.io/geographiclib/articles/geographiclib-overview.html)** - Package overview and quick examples
* **[Geodesics](https://hypertidy.github.io/geographiclib/articles/geodesics.html)** - Distance, bearings, waypoints, intersections, rhumb lines, polygon area, nearest neighbors
* **[Grid References](https://hypertidy.github.io/geographiclib/articles/grid-reference-systems.html)** - MGRS, Geohash, GARS, Georef, GeoCoords, DMS formatting
* **[Projections](https://hypertidy.github.io/geographiclib/articles/projections.html)** - UTM/UPS, Transverse Mercator, Lambert, Albers, Polar Stereographic, and more
* **[Local Coordinates](https://hypertidy.github.io/geographiclib/articles/local-coordinates.html)** - Geocentric (ECEF), Local Cartesian (ENU), ellipsoid properties

## Performance

Fast C++ implementation - process tens of thousands of coordinates in milliseconds:

```{r speed, eval=FALSE}
x <- do.call(cbind, maps::world.cities[c("long", "lat")])
system.time(mgrs_fwd(x))       # 43,645 points
#>  user  system elapsed 
#>  0.04    0.00    0.04
```

## Code of Conduct

Please note that the geographiclib project is released with a [Contributor Code of Conduct](https://contributor-covenant.org/version/2/1/CODE_OF_CONDUCT.html). By contributing to this project, you agree to abide by its terms.
